<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/highlight/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/hypertext.css"> <link rel=icon  href="/assets/favicon.png"> <title> DifferentialEquations.jl 4.1: New ReactionDSL and KLU Sundials </title> <header> <h1><b><center>SciML</center></b></h1> <nav> | <a href="/" class=current >Home</a> | <a href="/news/">News</a> | <a href="/roadmap/">Roadmap</a> | <a href="/citing/">Citing</a> | <a href="/governance/">Governance</a> | <a href="/showcase/">Showcase</a> | <a href="/community/">Community</a> <hr/> | <a href="/documentation/">Documentation</a> | <a href="https://benchmarks.sciml.ai/">Benchmarks</a> | <a href="https://github.com/SciML/">Source Code</a> </nav> </header> <div class=franklin-content ><p>Alright, that syntax change was painful but now everything seems to have calmed down. We thank everyone for sticking with us and helping file issues as necessary. It seems most people have done the syntax update and now we&#39;re moving on. In this release we are back to our usual and focused on feature updates. There are changes, but we can once again be deprecating any of our changes so that&#39;s much easier on users.</p> <p>Let&#39;s get to it&#33;</p> <h2 id=new_reaction_dsl ><a href="#new_reaction_dsl">New Reaction DSL</a></h2> <p><a href="https://docs.juliadiffeq.org/latest/models/biological">The new reaction DSL</a> is much more comprehensive than our old version. It&#39;s now:</p> <ul> <li><p>All macro-based</p> <li><p>Supports parameters</p> <li><p>Outputs ODEs, SDEs, and jump problems</p> <li><p>Allows regulation terms &#40;Hill functions, user-defined functions&#41;</p> <li><p>Can perform symbolic manipulations to speed up code</p> <li><p>Correctly compute coefficients for higher order reactants</p> </ul> <p>It looks like:</p> <pre><code class="julia hljs">rn = <span class=hljs-meta >@reaction_network</span> rType <span class=hljs-keyword >begin</span>
  p1, X + Y --&gt; XY               
  p2, XY --&gt; Z            
<span class=hljs-keyword >end</span> p1 p2</code></pre> <p>Basically, this fixes all of the issues users reported with the old DSL. The old <code>Reaction&#40;...&#41;</code> calls throw a warning telling users to update to this new DSL. A function-based DSL can be something in the future but with the current setup it&#39;s hard to imagine how that would work. This covers the vast majority of systems biology and systems pharmacology models, but puts a nice syntax on it that also allows backend optimization. Thank @Gaussia and @korsbo for their contribution&#33;</p> <h2 id=sundials_klu ><a href="#sundials_klu">Sundials KLU</a></h2> <p>KLU is a method for sparse factorization. While before Sundials could handle large sparse matrices through Krylov methods like <code>:GMRES</code>, for &quot;smaller&quot; sparse matrices these methods can be less efficient than performing a factorization since that factorization can be re-used in the ODE solver context. Thus this choice can help speed up many applications which require large sparse Jacobians&#33; It requires that the user defines a function for the Jacobian, and that the user specifies the sparse structure, but under those limitations it is a great algorithm for speeding up solving large sparse equations. The developers of Modia.jl had requested this functionality as well, so I hope this can help them along&#33; Thank @tshort for contributing the build script that made this possible.</p> <h2 id=functionmap_changes ><a href="#functionmap_changes">FunctionMap Changes</a></h2> <code>Discrete&#40;&#41;</code> has been deprecated for <code>FunctionMap&#40;&#41;</code>. Not only was it redundant, but it was also throwing warnings because it overlapped with <code>Discrete</code> from Distributions.jl. The <code>DiscreteProblem</code> defaults to using the identity map, so now <code>FunctionMap&#40;&#41;</code> does a type-check for the default function and skips any computation if the user doesn&#39;t pass <code>f</code>, making it functionally equivalent to <code>Discrete&#40;&#41;</code>. If you use <code>Discrete</code> you&#39;ll be giving a warning to make this change, and there&#39;s nothing else to do here.</p> <h2 id=dynamichmcjl_backend_for_bayesian_estimation ><a href="#dynamichmcjl_backend_for_bayesian_estimation">DynamicHMC.jl Backend for Bayesian Estimation</a></h2> <p>The new Bayesian estimation package DynamicHMC.jl was added as a backend to DiffEqBayes.jl. This contribution by @tpapp and @Vaibhavdixit02 has initial tests that show <a href="https://nbviewer.jupyter.org/github/JuliaDiffEq/DiffEqBenchmarks.jl/blob/master/ParameterEstimation/DiffEqBayesLorenz.ipynb">DynamicHMC.jl &#43; DifferentialEquations.jl</a> is a combination that can be orders of magnitude faster than Stan.jl &#40;though additional testing which takes into account accuracy differences will be needed for a more precise determination&#41;. Still, it&#39;s as simple to use as the other Bayesian functions &#40;see <a href="https://docs.juliadiffeq.org/latest/analysis/parameter_estimation">the example</a>&#41; and so give it a try if you&#39;re up for it.</p> <h2 id=livestream_tutorial ><a href="#livestream_tutorial">Livestream Tutorial</a></h2> <p>A livestreamed tutorial on DifferentialEquations.jl was given on the JuliaLang Youtube channel. It walks through using the ODE solvers, choosing the right algorithms &#40;the simple way&#41;, optimizing your code, and using event handling.</p> <p><a href="https://youtu.be/KPEqYtEd-zY"><img src="https://user-images.githubusercontent.com/1814174/36342812-bdfd0606-13b8-11e8-9eff-ff219de909e5.PNG" alt="Video Tutorial" /></a></p> <h2 id=problem_remake_function ><a href="#problem_remake_function">Problem remake function</a></h2> <p>A function <code>remake&#40;prob;kwargs&#41;</code> has been added. What it does is replaces one part of the problem. For example, <code>remake&#40;prob,tspan &#61; &#40;0.0,3.0&#41;&#41;</code> returns a new problem which swaps out the tspan. This is nice helper function by @tkf which allows keeping the problem types small and immutable &#40;essential for parallelism&#41; but makes it easy to &quot;modify&quot;.</p> <h2 id=predictor-corrector_stochastic_euler ><a href="#predictor-corrector_stochastic_euler">Predictor-Corrector &#40;Stochastic&#41; Euler</a></h2> <p>We have a new method by @onoderat for SDEs which is the Predictor-Corrector Euler &#40;PCE&#41; method. This methods works on non-diagonal SDEs and <a href="https://github.com/JuliaDiffEq/StochasticDiffEq.jl/pull/53">can be more much more efficient than EM</a>. It does require the definition of a separate function <code>ggprime</code> &#40;which will be defined in the <a href="https://docs.juliadiffeq.org/latest/solvers/sde_solve">documentation</a>&#41; and we will be working to define function versions that will autodifferentiate and numerical differentiate &#40;also symbolically build&#41; this function.</p> <h2 id=new_job_mit_applied_math_instructorship ><a href="#new_job_mit_applied_math_instructorship">New Job: MIT Applied Math Instructorship</a></h2> <p>I &#40;Chris Rackauckas&#41; accepted a postdoctoral position as an applied mathematics instructor in the MIT Department of Mathematics. This position is very friendly to open-source Julia development. While I will continue to bring in new contributors to &quot;lower the bus number&quot;, I think it&#39;s good to inform everyone that, as the lead developer of JuliaDiffEq, I will have a position for the next few years that will allow me to have this software and its algorithms as my primary research focus.</p> <h1 id=upcoming_events ><a href="#upcoming_events">Upcoming Events</a></h1> <h2 id=teaching_video_series ><a href="#teaching_video_series">Teaching Video Series</a></h2> <p>I &#40;Chris Rackauckas&#41; will be starting a teaching series on numerical differential equations. It will be hosted from <a href="https://www.youtube.com/channel/UCugBGdUbn6PeH03iPZtr-JQ">my personal Youtube channel</a>. It will go over topics like the differences between methods for stiff ODEs, when they are applicable &#40;and why&#41;, using toolboxes to discretize PDEs, SDE models, etc. Users of DifferentialEquations.jl can use this as a reference for more in depth explanations of how the theory of the methods apply to the practice of solving models &#40;efficiently&#41;.</p> <h1 id=in_development ><a href="#in_development">In development</a></h1> <p>Please take a look at <a href="https://sciml.ai/soc/projects/diffeq.html">possible GSoC projects</a>. Please get in touch with us if you&#39;re interested in working on numerical differential equation solvers&#33;</p> <p>Putting those aside, this is the main current &quot;in development&quot; list:</p> <ul> <li><p>Preconditioner choices for Sundials methods</p> <li><p>Adaptivity in the MIRK BVP solvers</p> <li><p>More general Banded and sparse Jacobian support outside of Sundials</p> <li><p>IMEX</p> <li><p>Improved jump methods &#40;tau-leaping&#41;</p> <li><p>LSODA integrator interface</p> </ul> </div>